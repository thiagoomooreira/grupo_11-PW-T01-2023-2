<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    
    <link rel="stylesheet" href="frameworks/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    
    <link rel="stylesheet" href="css/navbar.css">
    <link rel="stylesheet" href="css/site.css">


    <script src='frameworks/fullcalendar/fullcalendar-6.1.9/dist/index.global.min.js'></script>
    <script src="js/evento.js"></script>
    <script src="js/itemCalendario.js"></script>
    <script src="js/calendario.js">
    </script>
</head>
<body>
    
    <header>
        <nav class="navbar">
            <div class="container-navbar">
              <div class="navbar-header">
                <button class="navbar-toggler" data-toggle="open-navbar1">
                  <span></span>
                  <span></span>
                  <span></span>
                </button>
                <h4>Agenda</h4>
              </div>
          
              <div class="navbar-menu" id="open-navbar1">
                <ul class="navbar-nav">
                  <li><a href="#"> <i class="bi bi-person-circle"></i> Thiago Moreira</a></li>
                  <li><a href="#">Sair</a></li>
                </ul>
              </div>
            </div>
          </nav>
    </header>
    

    <div class="container mt-3">
        <div class="row">
            <div class="col">
                <div id='calendario'></div>
            </div>
        </div>
        <div class="dropup position-absolute bottom-0 end-0 rounded-circle m-5">
          <button type="button" class="btn btn-success btn-lg hide-toggle" id="button-abrir-modal-evento"
            aria-expanded="false" aria-haspopup="true" data-bs-toggle="modal" data-bs-target="#modal-eventos">
              <i class="bi bi-plus-lg"></i>
          </button>
        </div>
    </div>
    

    <!-- Modal -->
    <div class="modal fade modal-lg" id="modal-eventos" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-md">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-5" id="exampleModalLabel">Evento</h1>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div class="row">
              <div class="mb-3 col">
                <label for="titulo-evento" class="form-label">Título</label>
                <input type="text" class="form-control" id="titulo-evento" placeholder="Reunião" value="Reunião">
              </div>
            </div>
            <div class="row">
              <div class="mb-3 col-6">
                <label for="data-evento" class="form-label">Data</label>
                <input type="date" class="form-control" id="data-evento" placeholder="00/00/0000"  value="20/10/2023">
              </div>
              <div class="mb-3 col-3">
                <label for="inicio-evento" class="form-label">Início</label>
                <input type="time" class="form-control" id="inicio-evento" placeholder="00:00"  value="10:00">
              </div>
              <div class="mb-3 col-3">
                <label for="fim-evento" class="form-label">Fim</label>
                <input type="time" class="form-control" id="fim-evento" placeholder="00:00" value="12:00">
              </div>
            </div>
            <div class="row">
              <div class="mb-3 col">
                <label for="localizacao-evento" class="form-label">Local</label>
                <input type="text" class="form-control" id="localizacao-evento" value="ufms">
              </div>
            </div>
            <div class="row">
              <div class="mb-3 col">
                <label for="descricao-evento" class="form-label">Descrição</label>
                <textarea class="form-control" id="descricao-evento" style="height: 300px">testando hub ufms teste </textarea>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" id="button-fechar-modal">Fechar</button>
            <button type="button" class="btn btn-primary" id="button-salvar-evento">Salvar</button>
          </div>
        </div>
      </div>
    </div>
    


    <script src="frameworks/jquery/jquery-3.7.1.min.js"></script>
    <script src="frameworks/bootstrap/js/bootstrap.min.js"></script>
    <script src="js/navbar.js"></script>

    <script>
      $(document).ready(function(){
        var calendario = new Calendario();

        $("#button-salvar-evento").click(function(){

          let evento = new Evento({
            titulo : $("#titulo-evento").val(),
            data : $("#data-evento").val(),
            inicio : $("#inicio-evento").val(),
            fim : $("#fim-evento").val(),
            localizacao : $("#localizacao-evento").val(),
            descricao : $("#descricao-evento").val()
          })

          $("#titulo-evento").val("")
          $("#data-evento").val("")
          $("#inicio-evento").val("")
          $("#fim-evento").val("")
          $("#localizacao-evento").val("")
          $("#descricao-evento").val("")

          calendario.adicionarLista(evento)
          
          $("#button-fechar-modal").click()
        })
      })
    </script>
</body>
</html>